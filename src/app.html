<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
<script>
    // Flag to prevent double-firing
    let touchHandled = false;

    document.addEventListener('touchstart', (event) => {
        touchHandled = false;
        const clickableParent = event.target.closest('[onclick], button, a');
        if (clickableParent) {
            touchHandled = true;
            event.preventDefault();
        }
    }, { passive: false });

    document.addEventListener('touchend', (event) => {
        if (touchHandled) {
            const clickableParent = event.target.closest('[onclick], button, a');
            if (clickableParent) {
                event.preventDefault();
                clickableParent.click();
            }
            touchHandled = false;
        }
    }, { passive: false });

    // Prevent click events from firing immediately after touch
    document.addEventListener('click', (event) => {
        if (touchHandled) {
            event.stopImmediatePropagation();
            touchHandled = false;
        }
    }, true);
</script>